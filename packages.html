<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Boneless Hosts</title>

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

<style>
@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap');
body { font-family: 'Open Sans', sans-serif; }
</style>
</head>

<body class="bg-gray-900 text-white">

<!-- NAVBAR -->
<nav class="bg-black/60 py-3">
  <div class="container mx-auto px-4 flex justify-between items-center">
    
    <a href="#" class="flex items-center gap-3">
      <img src="logo.png" class="h-10 w-10 rounded-full object-cover" />
      <span class="font-semibold text-lg">Boneless</span>
    </a>

    <!-- REGION BUTTONS -->
    <div class="flex gap-2">
      <button id="asiaBtn" onclick="setRegion('asia')" class="px-4 py-1 rounded bg-blue-500 text-sm">
        Asia
      </button>
      <button id="euBtn" onclick="setRegion('eu')" class="px-4 py-1 rounded bg-gray-700 text-gray-300 text-sm">
        Europe
      </button>
    </div>

  </div>
</nav>

<!-- HEADER -->
<header class="bg-cover bg-center"
style="background-image:url('https://www.pixelstalk.net/wp-content/uploads/images6/Minecraft-Aesthetic-Wallpaper-HD-Free-download.jpg')">
<div class="bg-black/60">
<div class="container mx-auto px-4 py-24 text-center">
<h1 class="text-4xl font-bold">اختيار الباقة</h1>
<p class="text-lg mt-4 text-gray-300">اختر الباقة المناسبة لسيرفر ماين كرافت</p>
</div>
</div>
</header>

<!-- PLANS -->
<section class="container mx-auto px-4 py-16">
<div id="plans" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>
</section>

<!-- CONFIRM MODAL -->
<div id="confirmModal" class="fixed inset-0 bg-black/70 hidden items-center justify-center z-50">
  <div class="bg-gray-800 rounded-lg p-6 w-full max-w-md border border-white/10">
    <h2 class="text-2xl font-bold mb-4 text-center">هل أنت متأكد؟</h2>

    <div id="planNotes" class="text-gray-300 text-sm mb-6"></div>

    <div class="flex justify-center gap-4">
      <button onclick="confirmYes()" class="bg-blue-500 px-6 py-2 rounded hover:bg-blue-600">
        نعم
      </button>
      <button onclick="closeConfirm()" class="bg-gray-600 px-6 py-2 rounded hover:bg-gray-700">
        لا
      </button>
    </div>
  </div>
</div>

<script>
let selectedPlan = "";
let selectedButton = null;

const plansData = {
  asia: [
    "Starter","Basic","Master","Extreme","Boneless"
  ],
  eu: [
    "X Starter","X Basic","X Master","X Extreme","X Boneless",
    "R Starter","R Basic","R Master","R Extreme","R Boneless"
  ]
};

function setRegion(region) {
  asiaBtn.className = region === "asia"
    ? "px-4 py-1 rounded bg-blue-500 text-sm"
    : "px-4 py-1 rounded bg-gray-700 text-gray-300 text-sm";

  euBtn.className = region === "eu"
    ? "px-4 py-1 rounded bg-blue-500 text-sm"
    : "px-4 py-1 rounded bg-gray-700 text-gray-300 text-sm";

  const container = document.getElementById("plans");
  container.innerHTML = "";

  plansData[region].forEach(name => {
    container.innerHTML += `
    <div class="bg-gray-800 rounded-lg p-6 text-center border border-white/10">
      <h3 class="text-2xl font-bold mb-4">${name}</h3>

      <ul class="text-gray-300 text-sm mb-6 space-y-2 text-left">
        <li><i class="fas fa-memory text-blue-400 mr-2"></i>RAM: حسب الباقة</li>
        <li><i class="fas fa-microchip text-blue-400 mr-2"></i>CPU: حسب الباقة</li>
        <li><i class="fas fa-hdd text-blue-400 mr-2"></i>Storage: NVMe</li>
        <li><i class="fas fa-users text-blue-400 mr-2"></i>Slots: مناسب</li>
      </ul>

      <button data-plan="${name}" onclick="openConfirm('${name}', this)"
        class="order-btn bg-blue-500 px-6 py-3 rounded hover:bg-blue-600 transition">
        طلب الباقة
      </button>
    </div>`;
  });
}

function openConfirm(plan, btn) {
  selectedPlan = plan;
  selectedButton = btn;
  planNotes.innerHTML = `
  <strong>الملاحظات قبل الطلب على الباقة:</strong>
  <ol class="list-decimal list-inside mt-2 space-y-2">
    <li>أول ما تشتري الباقة بياخذ وقت عشان يجيك السيرفر لمدة شهر في الإيميل حقك</li>
    <li>مافي ترجيع، يعني يوم تاخذ الباقة وتغير رأيك ما نقدر نرجعها</li>     
    <li>لا تسوي طلب اكثر من مرة للباقة</li>
    <li>إن شاء الله تعجبك الباقة مع كل تحياتنا</li>
  </ol>`;
  confirmModal.classList.remove("hidden");
  confirmModal.classList.add("flex");
}

function closeConfirm() {
  confirmModal.classList.add("hidden");
  confirmModal.classList.remove("flex");
}

function confirmYes() {
  closeConfirm();

  if (!selectedButton) return;

  selectedButton.innerText = "قيد انتظار قبول طلبك";
  selectedButton.classList.remove("bg-blue-500", "hover:bg-blue-600");
  selectedButton.classList.add("bg-yellow-500", "cursor-not-allowed");
  selectedButton.disabled = true;

  // حفظ الحالة محليًا حتى لو حدثت الصفحة (اختياري)
  localStorage.setItem("pendingPlan", selectedPlan);
}

// عند تحميل الصفحة، إذا في طلب معلق نفعّل زر الانتظار عليه
window.onload = () => {
  const pending = localStorage.getItem("pendingPlan");
  if (!pending) return;

  const btn = document.querySelector(`button.order-btn[data-plan="${pending}"]`);
  if (btn) {
    btn.innerText = "قيد انتظار قبول طلبك";
    btn.classList.remove("bg-blue-500", "hover:bg-blue-600");
    btn.classList.add("bg-yellow-500", "cursor-not-allowed");
    btn.disabled = true;
  }

  // نعطي تفعيل للمنطقة حسب الباقة المعلقة
  if(pending.startsWith('X') || pending.startsWith('R')){
    setRegion('eu');
  } else {
    setRegion('asia');
  }
};

// شغّل افتراضياً
setRegion("asia");
</script>

</body>
</html>
